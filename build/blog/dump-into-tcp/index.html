<!doctype html><html lang="en"><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="Let the network do all the heavy lifting and you never have to think about performance ever again" name="description"><meta content="William Cooke" name="author"><meta content="Dump Everything in one TCP Window and Never Worry Again - William Cooke" property="og:title"><meta content="Let the network do all the heavy lifting and you never have to think about performance ever again" property="og:description"><meta content="article" property="og:type"><title>Dump Everything in one TCP Window and Never Worry Again - William Cooke</title><style>:root{--bg:#121212;--fg:#e0e0e0;--secondary:#a0a0a0;--accent:#bb86fc;--muted:#707070;--code-bg:#1a1a1a;--border:rgba(224, 224, 224, 0.15)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Fira Code','JetBrains Mono','SF Mono',monospace;background:var(--bg);color:var(--fg);line-height:1.6;min-height:100vh}.container{max-width:700px;margin:0 auto;padding:2rem}.back-nav{margin-bottom:2rem}.back-nav a{color:var(--secondary);text-decoration:none;font-size:.9rem;transition:color .2s}.back-nav a:hover{color:var(--accent)}.back-nav a::before{content:'← '}.article-header{margin-bottom:3rem;border-bottom:1px solid var(--border);padding-bottom:2rem}.article-meta{display:flex;gap:1rem;align-items:center;font-size:.8rem;color:var(--muted);margin-bottom:1rem}.tag{background:rgba(187,134,252,.1);color:var(--accent);padding:.2rem .5rem;border:1px solid rgba(187,134,252,.2);font-size:.7rem}h1{font-size:clamp(1.8rem, 5vw, 2.5rem);font-weight:400;text-transform:lowercase;margin-bottom:1rem;position:relative}h1::after{content:'_';animation:1.5s infinite cursor;color:var(--accent)}@keyframes cursor{0%,50%{opacity:1}100%,51%{opacity:0}}.lead{font-size:1.1rem;color:var(--secondary);margin-bottom:1.5rem;font-style:italic}.article-content h2{font-size:1.4rem;margin:2rem 0 1rem;color:var(--fg);text-transform:lowercase}.article-content h3{font-size:1.2rem;margin:1.5rem 0 .75rem;color:var(--secondary)}.article-content p{margin-bottom:1.5rem;color:var(--fg)}.article-content ol,.article-content ul{margin:1rem 0 1.5rem 1.5rem}.article-content li{margin-bottom:.5rem}.article-content blockquote{border-left:3px solid var(--accent);padding-left:1rem;margin:1.5rem 0;color:var(--secondary);font-style:italic}.article-content code{background:var(--code-bg);padding:.2rem .4rem;border:1px solid var(--border);font-size:.9rem;color:var(--accent)}.article-content pre{background:var(--code-bg);border:1px solid var(--border);border-left:3px solid var(--accent);padding:1rem;margin:1.5rem 0;overflow-x:auto;font-size:.85rem}.article-content pre code{background:0 0;border:none;padding:0;color:var(--fg)}.article-footer{margin-top:3rem;padding-top:2rem;border-top:1px solid var(--border);text-align:center}.footer-nav{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}.footer-nav a{color:var(--secondary);text-decoration:none;padding:.5rem 1rem;border:1px solid var(--border);transition:.2s}.footer-nav a:hover{color:var(--accent);border-color:var(--accent)}.footer-nav a::before{content:'[ ';color:var(--muted)}.footer-nav a::after{content:' ]';color:var(--muted)}.footer-nav a:hover::after,.footer-nav a:hover::before{color:var(--accent)}@media (max-width:480px){.container{padding:1rem}.article-meta{flex-direction:column;align-items:flex-start;gap:.5rem}.footer-nav{flex-direction:column}}@media (prefers-reduced-motion:reduce){h1::after{animation:none}}</style><div class="container"><nav class="back-nav"><a href="#" onclick="returnToBlog(); return false;">back</a></nav><header class="article-header"><div class="article-meta"><span class="date">2025-01-09</span> <span class="read-time">4 min read</span><div class="tags"><span class="tag">performance</span><span class="tag">optimisation</span><span class="tag">tcp</span><span class="tag">networking</span></div></div><h1>Dump Everything in one TCP Window and Never Worry Again</h1><p class="lead">Put everything in the first TCP packet (14KB) and the network handles the rest. No performance anxiety. No compromise.</header><article class="article-content"><p><strong>Does anyone remember &quot;Create React App?&quot;</strong> Has anyone seen a bundle in the wild that shipped with <strong>all the symbols and the source map?</strong> I have, and I cut <strong>70% of the build size</strong> within a month of becoming a dev because I read the docs. This is in no way a boast or something I consider to be a feat of brilliance, though every HR person who crosses my CV will get to read it that way for as long as my employer is listed there. I consider it to be a bare minimum of effort into reading how something works. That&#39;s a lost art.<p>We as developers are a psychologically interesting bunch, whining about people taking shortcuts and being sloppy while also trying to find the most automated way to do any task that crosses the kanban. I&#39;d say even, that it is normal and healthy to live in such paradoxes. But it does mean sometimes we push ugly, stupid, rushed garbage to meet a deadline or because we get distracted by Twitch.<p>I, too, am named in the deposition, don&#39;t worry. If Claude can write me a script for it, even through three or four prompts, I ain&#39;t reading the damn man page. It&#39;s 2025. Someone other than my brain can pay the compute.<p>There are no accusations here about your 300MB SPA with an SEO score worse than GeoCities. I maintain one of my own. Ours has more than 1001 treasures in the node_modules folder too. Never will they be cleaned. Notably, the build takes the perfect five minutes I need to stretch my legs and get a coffee. And who would tell the team this could be thirty seconds with working hot reload? Not this thirsty dev.<p>But sometimes, just sometimes, there&#39;s some juicy little piece of craft and artistry that tickles us and gets us in the mood for some actual thought-based coding. That for me has recently become a mysterious trick to make any site <em>instant</em>.<p>I&#39;m talking about making it <em>theoretically fast</em>...<p>Here&#39;s the thing about TCP: no one gives a shit about it until they want to play a round of code golf because they have given up their downtime hobbies in favour of blogging about technology after a hard day working with it. But just maybe sometimes we should. The first packet you get is roughly <strong>14KB</strong>, then the network has to get busy again before sending more. This costs time—real, measurable time. Latency that even the most out of touch of us care about. So I made a rule for my own portfolio site (where you may or may not be reading this): <strong>if it doesn&#39;t fit in 14KB, it doesn&#39;t go anywhere.</strong><p>This has the benefit of making the site feel swifter than Hacker News, that tool catalogue people harp on about, and Berkshire Hathaway (plus I have actual text content on mine...). There are small, smart optimisations to have in our back pocket as developers, doesn&#39;t matter what framework. Things like eager loading on hover, creating front-end search indices, gzipping assets, subsetting fonts. These are all small tokens of attention being paid. Of testing having occurred. Taking the debug symbols out is the <em>least</em> you can do for your users, but sometimes our abstractions have lulled us into forgetting we have responsibilities. There are about a million more I could make in my build script but right now it&#39;s earning its keep. In fact, the process can become endless and obsessive. Putting a little lipstick on the pig never hurt anyone though. That one constraint was enough, especially after stripping out the UTF-8 bloatware from my font binary to find that it was 18KB, an unacceptable behemoth that would find no home on my server.<p>And fine, I&#39;ll admit it. You may see the emojis in the build script. I got Claude to spit it out for me! And why not? I know what I want it to do and it does it. It turns my nice readable markdown into HTML. It minifies my assets, it zips everything up. It&#39;s very capable of doing that, just as much as it is writing CSS to about the same level as me (i.e., almost well enough). This is the beauty of knowing where to optimise. You can prompt for the tedious bits, and your fingers never have to hunt for brackets—you can just use English.<p>I could trim more fat, but I don&#39;t need to. <strong>The data literally will not be broken down anymore.</strong> This is as small as it gets.<p>That&#39;s the point. We can still pick our battles. I&#39;m not talking about hand-sanding walnut with beeswax from Bhutan. I&#39;m talking about running a circular saw through your build output and seeing what sticks.<p>So yes, this site is fast. <em>Almost</em> theoretically so. Fits in <strong>one TCP packet</strong>. Loads in <strong>tens of milliseconds</strong>. Some number of 9s as the percentile.<p>Yet there is <strong>someone</strong> faster...</article><footer class="article-footer"><nav class="footer-nav"><a href="/">home</a></nav></footer></div><script>function isBackFromSameDomain(){const o=document.referrer,n=window.location.hostname;return!!o&&new URL(o).hostname===n}const toHome=()=>window.location.href="/",returnToBlog=()=>isBackFromSameDomain()?history.back():toHome();</script>